Modernizr.formvalidation||jQuery.webshims.register("form-extend",function(a,c,p,j){c.inputTypes=c.inputTypes||{};var n=c.cfg.forms,i,h=function(a){return typeof a=="number"||a&&a==a*1},m=c.inputTypes,l={radio:1,checkbox:1};c.addInputType=function(a,b){m[a]=b};var o={customError:!1,typeMismatch:!1,rangeUnderflow:!1,rangeOverflow:!1,stepMismatch:!1,tooLong:!1,patternMismatch:!1,valueMissing:!1,valid:!0},g={valueMissing:function(k,b,d){if(!k.attr("required"))return!1;var e=!1;if(!("type"in d))d.type=
(k[0].getAttribute("type")||k[0].type||"").toLowerCase();if(d.nodeName=="select"){if(b=!b)if(!(b=k[0].selectedIndex<0))k=k[0],b=k.type=="select-one"&&k.size<2?!!a("> option:first-child",k).prop("selected"):!1;k=b}else k=l[d.type]?d.type=="checkbox"?!k.is(":checked"):!a(k[0].form&&k[0].name?k[0].form[k[0].name]:[]).filter(":checked")[0]:!b;return k},tooLong:function(a,b,d){if(b===""||d.nodeName=="select")return!1;var a=a.attr("maxlength"),d=!1,e=b.length;e&&a>=0&&b.replace&&h(a)&&(d=e>a);return d},
typeMismatch:function(a,b,d){if(b===""||d.nodeName=="select")return!1;var e=!1;if(!("type"in d))d.type=(a[0].getAttribute("type")||a[0].type||"").toLowerCase();m[d.type]&&m[d.type].mismatch&&(e=m[d.type].mismatch(b,a));return e},patternMismatch:function(a,b,d){if(b===""||d.nodeName=="select")return!1;a=a.attr("pattern");return!a?!1:!RegExp("^(?:"+a+")$").test(b)}};c.addValidityRule=function(a,b){g[a]=b};a.event.special.invalid={add:function(){a.event.special.invalid.setup.call(this.form||this)},setup:function(){var b=
this.form||this;if(!a.data(b,"invalidEventShim"))a(b).data("invalidEventShim",!0).bind("submit",a.event.special.invalid.handler),(b=a(b).data("events").submit)&&b.length>1&&b.unshift(b.pop())},teardown:a.noop,handler:function(b){if(!(b.type!="submit"||b.testedValidity||!b.originalEvent||!a.nodeName(b.target,"form")||a.attr(b.target,"novalidate")!=null||a.data(b.target,"novalidate"))){i=!0;b.testedValidity=!0;if(!a(b.target).checkValidity())return this===j&&c.warn("always embed HTML5 content using .prependWebshim, .appendWebshim, .htmlWebshim etc."),
b.stopImmediatePropagation(),i=!1;i=!1}}};a(j).bind("invalid",a.noop);a.event.special.submit=a.event.special.submit||{setup:function(){return!1}};var b=a.event.special.submit.setup;a.extend(a.event.special.submit,{setup:function(){a.nodeName(this,"form")?a(this).bind("invalid",a.noop):a("form",this).bind("invalid",a.noop);return b.apply(this,arguments)}});c.addInputType("email",{mismatch:function(){var a=n.emailReg||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|(\x22((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?\x22))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i;
return function(b){return!a.test(b)}}()});c.addInputType("url",{mismatch:function(){var a=n.urlReg||/^([a-z]([a-z]|\d|\+|-|\.)*):(\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?((\[(|(v[\da-f]{1,}\.(([a-z]|\d|-|\.|_|~)|[!\$&'\(\)\*\+,;=]|:)+))\])|((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=])*)(:\d*)?)(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*|(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)){0})(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;
return function(b){return!a.test(b)}}()});c.defineNodeNamesProperties(["button","fieldset","output"],{checkValidity:{value:function(){return!0}},willValidate:{value:!1},setCustomValidity:{value:a.noop},validity:{writeable:!1,get:function(){return a.extend({},o)}}},"prop");var e=function(b){var d,f=a.prop(b,"validity");if(f)a.data(b,"cachedValidity",f);else return!0;if(!f.valid){d=a.Event("invalid");var g=a(b).trigger(d);if(i&&!e.unhandledInvalids&&!d.isDefaultPrevented())c.validityAlert.showFor(g),
e.unhandledInvalids=!0}a.removeData(b,"cachedValidity",!1);return f.valid};c.defineNodeNameProperty("form","checkValidity",{prop:{value:function(){var b=!0,d=a("input,textarea,select",this).filter(function(){var a=c.data(this,"shadowData");return!a||!a.nativeElement||a.nativeElement===this});e.unhandledInvalids=!1;for(var f=0,g=d.length;f<g;f++)e(d[f])||(b=!1);return b}}});c.defineNodeNamesProperties(["input","textarea","select"],{checkValidity:{value:function(){e.unhandledInvalids=!1;return e(a(this).getNativeElement()[0])}},
setCustomValidity:{value:function(a){c.data(this,"customvalidationMessage",""+a)}},willValidate:{set:a.noop,get:function(){var b={button:1,reset:1,hidden:1};return function(){var d=a(this).getNativeElement()[0];return!(d.disabled||d.readOnly||b[d.type]||d.form&&a.attr(d.form,"novalidate")!=null)}}()},validity:{set:a.noop,get:function(){var b=a(this).getNativeElement(),d=b[0],e=a.data(d,"cachedValidity");if(e)return e;e=a.extend({},o);if(!a.prop(d,"willValidate")||d.type=="submit")return e;var f=b.val(),
h={nodeName:d.nodeName.toLowerCase()};e.customError=!!c.data(d,"customvalidationMessage");if(e.customError)e.valid=!1;a.each(g,function(a,d){if(d(b,f,h))e[a]=!0,e.valid=!1});d.setAttribute("aria-invalid",e.valid?"false":"true");d=b=null;return e}}},"prop");c.defineNodeNamesBooleanProperty(["input","textarea","select"],"required",{set:function(a){this.setAttribute("aria-required",!!a+"")},initAttr:!0});c.reflectProperties(["input"],["pattern"]);c.defineNodeNameProperty("textarea","maxlength",{attr:{set:function(a){this.setAttribute("maxlength",
""+a)},get:function(){var a=this.getAttribute("maxlength");return a==null?void 0:a}},prop:{set:function(a){if(h(a)){if(a<0)throw"INDEX_SIZE_ERR";this.setAttribute("maxlength",parseInt(a,10))}else this.setAttribute("maxlength","0")},get:function(){var a=this.getAttribute("maxlength");return h(a)&&a>=0?parseInt(a,10):-1}}});c.defineNodeNameProperty("textarea","maxLength",{prop:{set:function(b){a.prop(this,"maxlength",b)},get:function(){return a.prop(this,"maxlength")}}});!a.support.getSetAttribute&&
a("<form novalidate></form>").attr("novalidate")==null&&c.defineNodeNameProperty("form","novalidate",{attr:{set:function(a){this.setAttribute("novalidate",""+a)},get:function(){var a=this.getAttribute("novalidate");return a==null?void 0:a}}});var d=function(){var b=this;b.form&&(a.data(b.form,"novalidate",!0),setTimeout(function(){a.removeData(b.form,"novalidate")},1))},f={submit:1,button:1};a(j).bind("click",function(b){b.target&&b.target.form&&f[b.target.type]&&a.attr(b.target,"formnovalidate")!=
null&&d.call(b.target)});c.addReady(function(b,e){var f=a("form",b).add(e.filter("form")).bind("invalid",a.noop).find("button[formnovalidate]").bind("click",d).end();setTimeout(function(){try{if(j.activeElement&&"form"in j.activeElement)return}catch(b){return}var d=!0;a("input, select, textarea",f).each(function(){if(!d)return!1;if(this.getAttribute("autofocus")!=null){d=!1;var b=a(this).getShadowFocusElement();try{b[0].focus()}catch(e){}return!1}})},0)})});
jQuery.webshims.ready("dom-support form-core",function(a,c,p){Modernizr.textareaPlaceholder=!!("placeholder"in a("<textarea />")[0]);if(!Modernizr.input.placeholder||!Modernizr.textareaPlaceholder){var j=c.cfg.forms.placeholderType=="over",n=["textarea"];Modernizr.input.placeholder||n.push("input");var i=function(c,g,b){if(!j&&c.type!="password")b===!1&&(b=a.prop(c,"value")),c.value=b;g.box.removeClass("placeholder-visible")},h=function(c,g,b,e,d){if(!e&&(e=a.data(c,"placeHolder"),!e))return;if(d==
"focus"||!d&&c===document.activeElement)(c.type=="password"||j||a(c).hasClass("placeholder-visible"))&&i(c,e,"");else if(g===!1&&(g=a.prop(c,"value")),g)i(c,e,g);else if(b===!1&&(b=a.attr(c,"placeholder")||""),b&&!g){g=e;b===!1&&(b=a.attr(c,"placeholder")||"");if(!j&&c.type!="password")c.value=b;g.box.addClass("placeholder-visible")}else i(c,e,g)},m=function(c){var c=a(c),g=c.prop("id"),b=!(!c.attr("title")&&!c.attr("aria-labeledby"));!b&&g&&(b=!!a('label[for="'+g+'"]',c[0].form)[0]);return a(b?'<span class="placeholder-text"></span>':
'<label for="'+(g||a.webshims.getID(c))+'" class="placeholder-text"></label>')},l=function(){var c={text:1,search:1,url:1,email:1,password:1,tel:1};return{create:function(c){var b=a.data(c,"placeHolder");if(b)return b;b=a.data(c,"placeHolder",{text:m(c)});a(c).bind("focus.placeholder blur.placeholder",function(a){h(this,!1,!1,b,a.type)});c.form&&a(c.form).bind("reset.placeholder",function(a){setTimeout(function(){h(c,!1,!1,b,a.type)},0)});if(c.type=="password"||j){b.box=a(c).wrap('<span class="placeholder-box placeholder-box-'+
(c.nodeName||"").toLowerCase()+'" />').parent();b.text.insertAfter(c).bind("mousedown.placeholder",function(){h(this,!1,!1,b,"focus");try{setTimeout(function(){c.focus()},0)}catch(a){}return!1});a.each(["Left","Top"],function(d,e){var h=(parseInt(a.curCSS(c,"padding"+e),10)||0)+Math.max(parseInt(a.curCSS(c,"margin"+e),10)||0,0)+(parseInt(a.curCSS(c,"border"+e+"Width"),10)||0);b.text.css("padding"+e,h)});a.curCSS(c,"lineHeight");var e={width:a(c).width(),height:a(c).height()},d=a.curCSS(c,"float");
a.each(["lineHeight","fontSize","fontFamily","fontWeight"],function(d,e){var h=a.curCSS(c,e);b.text.css(e)!=h&&b.text.css(e,h)});e.width&&e.height&&b.text.css(e);d!=="none"&&b.box.addClass("placeholder-box-"+d)}else{e=function(d){a(c).hasClass("placeholder-visible")&&(i(c,b,""),d&&d.type=="submit"&&setTimeout(function(){d.isDefaultPrevented()&&h(c,!1,!1,b)},9))};if(a.nodeName(b.text[0],"label"))b.text.hide()[a.browser.msie?"insertBefore":"insertAfter"](c);a(p).bind("beforeunload",e);b.box=a(c);c.form&&
a(c.form).submit(e)}return b},update:function(g,b){if(c[a.prop(g,"type")]||a.nodeName(g,"textarea")){var e=l.create(g);e.text.text(b);h(g,!1,b,e)}}}}();a.webshims.publicMethods={pHolder:l};n.forEach(function(a){c.defineNodeNameProperty(a,"placeholder",{attr:{set:function(a){c.contentAttr(this,"placeholder",a);l.update(this,a)},get:function(){return c.contentAttr(this,"placeholder")}},reflect:!0,initAttr:!0})});n.forEach(function(l){var g={},b;["attr","prop"].forEach(function(e){g[e]={set:function(a){var f=
c.contentAttr(this,"placeholder"),k=b[e]._supset.call(this,a);f&&"value"in this&&h(this,a,f);return k},get:function(){return a(this).hasClass("placeholder-visible")?"":b[e]._supget.call(this)}}});b=c.defineNodeNameProperty(l,"value",g)})}});
jQuery.webshims.ready("dom-support",function(a,c,p,j,n){c.propTypes.element=function(i){c.createPropDefault(i,"attr");if(!i.prop)i.prop={get:function(){var c=i.attr.get.call(this);c&&(c=a("#"+c)[0])&&i.propNodeName&&!a.nodeName(c,i.propNodeName)&&(c=null);return c||null},writeable:!1}};(function(){if(!("value"in j.createElement("output"))){c.defineNodeNameProperty("output","value",{prop:{set:function(c){var m=a.data(this,"outputShim");m||(m=i(this));m(c)},get:function(){return c.contentAttr(this,
"value")||a(this).text()||""}}});c.onNodeNamesPropertyModify("input","value",function(c,i,l){l!="removeAttr"&&(i=a.data(this,"outputShim"))&&i(c)});var i=function(h){if(!h.getAttribute("aria-live")){var h=a(h),i=(h.text()||"").trim(),l=h.attr("id"),o=h.attr("for"),g=a('<input class="output-shim" type="hidden" name="'+(h.attr("name")||"")+'" value="'+i+'" style="display: none" />').insertAfter(h),b=g[0].form||j,e=function(a){g[0].value=a;a=g[0].value;h.text(a);c.contentAttr(h[0],"value",a)};h[0].defaultValue=
i;c.contentAttr(h[0],"value",i);h.attr({"aria-live":"polite"});l&&(g.attr("id",l),h.attr("aria-labeldby",c.getID(a('label[for="'+l+'"]',b))));o&&(l=c.getID(h),o.split(" ").forEach(function(a){(a=b.getElementById(a))&&a.setAttribute("aria-controls",l)}));h.data("outputShim",e);g.data("outputShim",e);return e}};c.addReady(function(c,j){a("output",c).add(j.filter("output")).each(function(){i(this)})})}})();(function(){if(!Modernizr.datalist){var i=0,h={submit:1,button:1,reset:1,hidden:1,range:1,date:1},
m=a.browser.msie&&parseInt(a.browser.version,10)<7,l={},o=function(a){if(!a)return[];if(l[a])return l[a];var e;c.ready("json-storage",function(){try{e=JSON.parse(localStorage.getItem("storedDatalistOptions"+a))}catch(c){}l[a]=e||[]});return e||[]},g={_create:function(b){if(!h[(b.input.getAttribute("type")||"").toLowerCase()||b.input.type]){var c=b.datalist,d=a.data(b.input,"datalistWidget");if(c&&d&&d.datalist!==c)d.datalist=c,d.id=b.id,d._resetListCached();else if(c){if(!(d&&d.datalist===c)){i++;
var f=this;this.timedHide=function(){clearTimeout(f.hideTimer);f.hideTimer=setTimeout(a.proxy(f,"hideList"),9)};this.datalist=c;this.id=b.id;this.lazyIDindex=i;this.hasViewableData=!0;this._autocomplete=a.attr(b.input,"autocomplete");a.data(b.input,"datalistWidget",this);this.shadowList=a('<div class="datalist-polyfill" />').appendTo("body");this.index=-1;this.input=b.input;this.arrayOptions=[];this.shadowList.delegate("li","mouseover.datalistWidget mousedown.datalistWidget click.datalistWidget",
function(b){var c=a("li:not(.hidden-item)",f.shadowList),d=b.type=="mousedown"||b.type=="click";f.markItem(c.index(b.target),d,c);b.type=="click"&&f.hideList();return b.type!="mousedown"}).bind("focusout",this.timedHide);b.input.setAttribute("autocomplete","off");a(b.input).attr({"aria-haspopup":"true"}).bind("input.datalistWidget",a.proxy(this,"showHideOptions")).bind("keydown.datalistWidget",function(b){var c=b.keyCode;if(c==40&&!f.showList())return f.markItem(f.index+1,!0),!1;if(f.isListVisible){if(c==
38)return f.markItem(f.index-1,!0),!1;if(!b.shiftKey&&(c==33||c==36))return f.markItem(0,!0),!1;if(!b.shiftKey&&(c==34||c==35))return b=a("li:not(.hidden-item)",f.shadowList),f.markItem(b.length-1,!0,b),!1;if(c==13||c==27)return c==13&&(b=a("li.active-item:not(.hidden-item)",f.shadowList),b[0]&&(a.prop(f.input,"value",b.attr("data-value")),a(f.input).triggerHandler("updateInput"))),f.hideList(),!1}}).bind("focus.datalistWidget",function(){a(this).hasClass("list-focus")&&f.showList()}).bind("blur.datalistWidget",
this.timedHide);a(this.datalist).unbind("updateDatalist.datalistWidget").bind("updateDatalist.datalistWidget",a.proxy(this,"_resetListCached"));this._resetListCached();b.input.form&&b.input.id&&a(b.input.form).bind("submit.datalistWidget"+b.input.id,function(){var c=a.prop(b.input,"value");f.storedOptions=o(b.input.name||b.input.id);if(c&&a.inArray(c,f.storedOptions)==-1){f.storedOptions.push(c);var c=b.input.name||b.input.id,d=f.storedOptions;if(c){d=d||[];try{localStorage.setItem("storedDatalistOptions"+
c,JSON.stringify(d))}catch(e){}}}});a(p).bind("unload",function(){f.destroy()})}}else d&&d.destroy()}},destroy:function(){var b=a.attr(this.input,"autocomplete");a(this.input).unbind(".datalistWidget").removeData("datalistWidget");this.shadowList.remove();a(j).unbind(".datalist"+this.id);this.input.form&&this.input.id&&a(this.input.form).unbind("submit.datalistWidget"+this.input.id);this.input.removeAttribute("aria-haspopup");b===n?this.input.removeAttribute("autocomplete"):a(this.input).attr("autocomplete",
b)},_resetListCached:function(){var a=this;this.needsUpdate=!0;this.lastUpdatedValue=!1;this.lastUnfoundValue="";if(!this.updateTimer)this.updateTimer=setTimeout(function(){a.updateListOptions()},this.isListVisible||p.QUnit?0:40*this.lazyIDindex)},updateListOptions:function(){this.needsUpdate=!1;clearTimeout(this.updateTimer);this.updateTimer=!1;this.shadowList.css({fontSize:a.curCSS(this.input,"fontSize"),fontFamily:a.curCSS(this.input,"fontFamily")});var b='<ul role="list" class="'+(this.datalist.className||
"")+" "+this.datalist.id+'-shadowdom">',c=[],d=[];a("option",this.datalist).each(function(b){if(!this.disabled){var g={value:a(this).val()||"",text:a.trim(a.attr(this,"label")||this.textContent||this.innerText||a.text([this])||""),className:this.className||"",style:a.attr(this,"style")||""};if(!g.text)g.text=g.value;c[b]=g.value;d[b]=g}});this.storedOptions=o(this.input.name||this.input.id);this.storedOptions.forEach(function(b){a.inArray(b,c)==-1&&d.push({value:b,text:b,className:"",style:""})});
d.forEach(function(a){var c=a.value.indexOf('"')!=-1?"'"+a.value+"'":'"'+a.value+'"';b+="<li data-value="+c+' class="'+a.className+'" style="'+a.style+'" tabindex="-1" role="listitem">'+a.text+"</li>"});b+="</ul>";this.arrayOptions=d;this.shadowList.html(b);a.fn.bgIframe&&m&&this.shadowList.bgIframe();this.isListVisible&&this.showHideOptions()},showHideOptions:function(){var b=a.prop(this.input,"value").toLowerCase();if(!(b===this.lastUpdatedValue||this.lastUnfoundValue&&b.indexOf(this.lastUnfoundValue)===
0)){this.lastUpdatedValue=b;var c=!1,d=a("li",this.shadowList);b?this.arrayOptions.forEach(function(f,g){if(!("lowerText"in f))f.lowerText=f.text.toLowerCase(),f.lowerValue=f.value.toLowerCase();f.lowerText.indexOf(b)!==-1||f.lowerValue.indexOf(b)!==-1?(a(d[g]).removeClass("hidden-item"),c=!0):a(d[g]).addClass("hidden-item")}):(d.removeClass("hidden-item"),c=!0);(this.hasViewableData=c)?this.showList():(this.lastUnfoundValue=b,this.hideList())}},showList:function(){if(this.isListVisible)return!1;
this.needsUpdate&&this.updateListOptions();this.showHideOptions();if(!this.hasViewableData)return!1;var b=this,c=a(this.input).offset();c.top+=a(this.input).outerHeight();c.width=a(this.input).outerWidth()-(parseInt(this.shadowList.css("borderLeftWidth"),10)||0)-(parseInt(this.shadowList.css("borderRightWidth"),10)||0);m&&(this.shadowList.css("height","auto"),this.shadowList.height()>250&&this.shadowList.css("height",220));this.shadowList.css(c).addClass("datalist-visible");this.isListVisible=!0;
a(j).bind("mousedown.datalist"+this.id+" focusin.datalist"+this.id,function(c){c.target===b.input||b.shadowList[0]===c.target||a.contains(b.shadowList[0],c.target)?(clearTimeout(b.hideTimer),setTimeout(function(){clearTimeout(b.hideTimer)},0)):b.timedHide()});return!0},hideList:function(){if(!this.isListVisible)return!1;this.shadowList.removeClass("datalist-visible list-item-active").scrollTop(0).find("li.active-item").removeClass("active-item");this.index=-1;this.isListVisible=!1;a(this.input).removeAttr("aria-activedescendant");
a(j).unbind(".datalist"+this.id);return!0},scrollIntoView:function(b){var c=a("> ul",this.shadowList),d=b.position();d.top-=(parseInt(c.css("paddingTop"),10)||0)+(parseInt(c.css("marginTop"),10)||0)+(parseInt(c.css("borderTopWidth"),10)||0);d.top<0?this.shadowList.scrollTop(this.shadowList.scrollTop()+d.top-2):(d.top+=b.outerHeight(),b=this.shadowList.height(),d.top>b&&this.shadowList.scrollTop(this.shadowList.scrollTop()+(d.top-b)+2))},markItem:function(b,c,d){d=d||a("li:not(.hidden-item)",this.shadowList);
if(d.length)b<0?b=d.length-1:b>=d.length&&(b=0),d.removeClass("active-item"),this.shadowList.addClass("list-item-active"),d=d.filter(":eq("+b+")").addClass("active-item"),c&&(a.prop(this.input,"value",d.attr("data-value")),a.attr(this.input,"aria-activedescendant",a.webshims.getID(d)),a(this.input).triggerHandler("updateInput"),this.scrollIntoView(d)),this.index=b}};(function(){c.defineNodeNameProperties("input",{list:{attr:{get:function(){var a=c.contentAttr(this,"list");return a==null?n:a},set:function(b){c.contentAttr(this,
"list",b);c.objectCreate(g,n,{input:this,id:b,datalist:a.prop(this,"list")})}},initAttr:!0,reflect:!0,propType:"element",propNodeName:"datalist"},selectedOption:{prop:{writeable:!1,get:function(){var b=a.prop(this,"list"),c=null,d;if(!b)return c;d=a.attr(this,"value");if(!d)return c;b=a.prop(b,"options");if(!b.length)return c;a.each(b,function(b,g){if(d==a.prop(g,"value"))return c=g,!1});return c}}},autocomplete:{attr:{get:function(){var b=a.data(this,"datalistWidget");return b?b._autocomplete:"autocomplete"in
this?this.autocomplete:this.getAttribute("autocomplete")},set:function(b){var c=a.data(this,"datalistWidget");c?(c._autocomplete=b,b=="off"&&c.hideList()):"autocomplete"in this?this.autocomplete=b:this.setAttribute("autocomplete",b)}}}});c.defineNodeNameProperty("datalist","options",{prop:{writeable:!1,get:function(){var b=a("select",this);return b[0]?b[0].options:[]}}});c.addReady(function(b,c){c.filter("select, option").each(function(){var b=this.parentNode,c=a.nodeName(b,"datalist");if(b&&!c)b=
b.parentNode,c=a.nodeName(b,"datalist");b&&c&&a(b).triggerHandler("updateDatalist")})})})()}})();(function(){var i={updateInput:1,input:1},h={radio:1,checkbox:1,submit:1,button:1,image:1,reset:1,file:1,color:1},m=function(a){var h,g=a.prop("value"),b=function(b){if(a){var d=a.prop("value");d!==g&&(g=d,(!b||!i[b.type])&&c.triggerInlineForm&&c.triggerInlineForm(a[0],"input"))}},e,d=function(){clearTimeout(e);e=setTimeout(b,9)},f=function(){a.unbind("focusout",f).unbind("keyup keypress keydown paste cut",
d).unbind("input change updateInput",b);clearInterval(h);setTimeout(function(){b();a=null},1)};clearInterval(h);h=setInterval(b,99);d();a.bind("keyup keypress keydown paste cut",d).bind("focusout",f).bind("input updateInput change",b)};a(j).bind("focusin",function(c){c.target&&c.target.type&&!c.target.readOnly&&!c.target.disabled&&(c.target.nodeName||"").toLowerCase()=="input"&&!h[c.target.type]&&m(a(c.target))})})();c.modules["form-output-datalist"]&&c.isReady("form-output-datalist",!0)});
