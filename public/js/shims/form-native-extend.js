jQuery.webshims.register("form-extend",function(b,d,g,m,u,s){if(Modernizr.formvalidation){var h=d.inputTypes,q={};d.addInputType=function(a,d){h[a]=d};d.addValidityRule=function(a,d){q[a]=d};d.addValidityRule("typeMismatch",function(a,d,c,b){if(d==="")return!1;b=b.typeMismatch;if(!("type"in c))c.type=(a[0].getAttribute("type")||"").toLowerCase();h[c.type]&&h[c.type].mismatch&&(b=h[c.type].mismatch(d,a));return b});var e=s.overrideMessages,n=!Modernizr.requiredSelect||!Modernizr.input.valueAsDate||
e,t=["customError","typeMismatch","rangeUnderflow","rangeOverflow","stepMismatch","tooLong","patternMismatch","valueMissing","valid"],g=e?["value","checked"]:["value"],j=e?["textarea"]:[],k=function(a,d){if(a){var c=(a.getAttribute&&a.getAttribute("type")||a.type||"").toLowerCase();if(e||!(Modernizr.requiredSelect||c!="select-one")||h[c])e&&!d&&c=="radio"&&a.name?b(m.getElementsByName(a.name)).each(function(){b.prop(this,"validity")}):b.prop(a,"validity")}},o={};["input","textarea","select"].forEach(function(a){var e=
d.defineNodeNameProperty(a,"setCustomValidity",{prop:{value:function(c){c+="";var i=a=="input"?b(this).getNativeElement()[0]:this;e.prop._supvalue.call(i,c);Modernizr.validationmessage||d.data(i,"customvalidationMessage",c);n&&(d.data(i,"hasCustomError",!!c),k(i))}}});o[a]=e.prop._supvalue});if(!Modernizr.input.valueAsNumber||e)g.push("min"),g.push("max"),g.push("step"),j.push("input");if(!Modernizr.requiredSelect||e)g.push("required"),j.push("select");if(n){var p;j.forEach(function(a){var g=d.defineNodeNameProperty(a,
"validity",{prop:{get:function(){if(!p){var c=a=="input"?b(this).getNativeElement()[0]:this,i=g.prop._supget.call(c);if(!i)return i;var f={};t.forEach(function(a){f[a]=i[a]});if(!b.prop(c,"willValidate"))return f;p=!0;var h=b(c),j={type:(c.getAttribute&&c.getAttribute("type")||"").toLowerCase(),nodeName:(c.nodeName||"").toLowerCase()},m=h.val(),k=!!d.data(c,"hasCustomError"),l;p=!1;f.customError=k;if(f.valid&&f.customError)f.valid=!1;else if(!f.valid){var n=!0;b.each(f,function(a,c){if(c)return n=
!1});if(n)f.valid=!0}b.each(q,function(b,e){f[b]=e(h,m,j,f);if(f[b]&&(f.valid||!l))o[a].call(c,d.createValidationMessage(c,b)),f.valid=!1,l=!0});f.valid?(o[a].call(c,""),d.data(c,"hasCustomError",!1)):e&&!l&&!k&&b.each(f,function(b,f){if(b!=="valid"&&f)return o[a].call(c,d.createValidationMessage(c,b)),!1});return f}},writeable:!1}})});g.forEach(function(a){d.onNodeNamesPropertyModify(j,a,function(){k(this)})});if(m.addEventListener){var l;m.addEventListener("change",function(a){clearTimeout(l);k(a.target)},
!0);m.addEventListener("input",function(a){clearTimeout(l);l=setTimeout(function(){k(a.target)},290)},!0)}var r=j.join(",");d.addReady(function(a,d){b(r,a).add(d.filter(r)).each(function(){b.prop(this,"validity")})});e&&d.ready("DOM",function(){var a;b(document).bind("webshimLocalizationReady",function(){var e=d.activeLang()[0];a!=e&&(a=e,b("input, select, textarea").each(function(){if(!d.data(this,"hasCustomError")){var a=this,e=b.prop(a,"validity"),f;e.valid||(f=(a.nodeName||"").toLowerCase(),b.each(e,
function(b,e){if(b!=="valid"&&e)return o[f].call(a,d.createValidationMessage(a,b)),!1}))}}))})})}}});
